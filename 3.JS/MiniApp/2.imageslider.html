<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .slider{
            display: flex;
            flex-direction: column;
            margin: 0 auto;
            align-items: center;
        }
        .slider img{
            width: 200px;
            height: 200px;
            display: none;
        }

        .slider img.active{
            display: block;
        }
        .button {
            margin-top :10px;
        }
        button{
            padding: 10px;
            font-size: 16px;
        }

    </style>
</head>
<body>
    <h1>이미지 슬라이더</h1>
    <div class="slider">
        <img id="img1" src="images/scene1.png" class="active" alt="이미지1">
        <img id="img2" src="images/약한 영웅 포스터.jpg" alt="이미지2">
        <img id="img3" src="images/폭싹 포스터.jpg" alt="이미지3">

        <div class="filename" id="filename">images/scene1.png</div>

        <div class="button">
            <button id="prev">이전</button>
            <button id="next">다음</button>
        </div>
    </div>
    <script>
        // 1. 버튼 클릭하면 class=active 를 다음거로 이동하기기


    //     document.querySelectorAll('.button').forEach(function(button){
    //         button.addEventListener('click',function(img){
    //             img.addEventListener('active',function(){
    //                 console.log(img);
    //             })
    //         })
    //    })


       const images = document.querySelectorAll('.slider img');
       let currentIndex = 0;

       document.getElementById('prev').addEventListener('click', ()=>{
            images[currentIndex].classList.remove('active');
            currentIndex = currentIndex - 1;
            if(currentIndex < 0){
                currentIndex = images.length -1;
            }
            images[currentIndex].classList.add('active');
            updatefilename();
       })
       
    //    currentIndex = if() xxx : yyy ? (조건식) ;
       document.getElementById('next').addEventListener('click', ()=>{
            images[currentIndex].classList.remove('active');
            currentIndex = currentIndex + 1;
            if(currentIndex > images.length - 1){
                currentIndex = 0;
            }
            images[currentIndex].classList.add('active');
            updatefilename();
       })

       function updatefilename(){
            // const filename = document.getElementById('filename');
            const shortname = images[currentIndex].src.split('/').pop();
            filename.textContent = shortname;
            
       }

       updatefsilename();
    </script>
</body>
</html>